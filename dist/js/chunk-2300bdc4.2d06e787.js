(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2300bdc4"],{"6e34":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"update-student"},[s("el-card",{staticClass:"box-card searchnav"},[s("el-button-group",{staticStyle:{width:"100%"}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("div",{staticClass:"grid-content bg-purple",staticStyle:{"text-align":"left"}},[s("span",{staticStyle:{"font-size":"20px","padding-left":"1px"}},[s("strong",[e._v(" 个人信息修改")])])])])],1)],1)],1),s("br"),s("el-form",{ref:"addForm",staticStyle:{width:"80%","margin-left":"20px"},attrs:{model:e.user,id:"addForm",name:"addForm","label-width":"80px",labelPosition:"left"}},[s("el-form-item",{attrs:{label:"姓名：",prop:"name"}},[s("el-input",{attrs:{id:"name",placeholder:"请输入姓名"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),s("span",{staticClass:"inputtip"},[s("span",{staticClass:"tipst"},[e._v("*")]),e._v(" 请输入真实姓名")])],1),"teacher"==e.user.role||"admin"==e.user.role?s("el-form-item",{attrs:{label:"部门：",prop:"department"}},[s("el-input",{attrs:{id:"department",placeholder:"请输部门"},model:{value:e.user.department,callback:function(t){e.$set(e.user,"department",t)},expression:"user.department"}}),s("span",{staticClass:"inputtip"},[s("span",{staticClass:"tipst"},[e._v("*")]),e._v(" 请输部门")])],1):e._e(),"teacher"==e.user.role||"admin"==e.user.role?s("el-form-item",{attrs:{label:"职位：",prop:"position"}},[s("el-input",{attrs:{id:"position",placeholder:"请输职位"},model:{value:e.user.position,callback:function(t){e.$set(e.user,"position",t)},expression:"user.position"}}),s("span",{staticClass:"inputtip"},[s("span",{staticClass:"tipst"},[e._v("*")]),e._v(" 请输职位")])],1):e._e(),s("el-form-item",{attrs:{label:"密码：",prop:"password"}},[s("el-input",{attrs:{type:"password",id:"password",placeholder:"请输入密码"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),s("span",{staticClass:"inputtip"},[s("span",{staticClass:"tipst"},[e._v("*")]),e._v(" 设置6位以上的密码(可以包含数字、字母、下划线)")])],1),"student"==e.user.role||"teacher"==e.user.role?s("el-form-item",{attrs:{label:"性别 ："}},[s("el-radio-group",{model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}},[s("el-radio",{attrs:{label:"男"}}),s("el-radio",{attrs:{label:"女"}})],1),s("span",{staticClass:"inputtip"})],1):e._e(),s("el-form-item",{attrs:{label:"邮箱 ：",prop:"email"}},[s("el-input",{attrs:{id:"email",placeholder:"请输入邮箱"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),s("span",{staticClass:"inputtip"})],1),s("el-form-item",{attrs:{label:"手机号 ：",prop:"phone"}},[s("el-input",{attrs:{id:"phone",placeholder:"请输入手机号"},model:{value:e.user.phone,callback:function(t){e.$set(e.user,"phone",t)},expression:"user.phone"}}),s("span",{staticClass:"inputtip"})],1),"parent"==e.user.role?s("el-form-item",{attrs:{label:"学生学号 ：",prop:"student_id"}},[s("el-input",{attrs:{id:"student_id",placeholder:"请输入学号"},model:{value:e.user.student_id,callback:function(t){e.$set(e.user,"student_id",t)},expression:"user.student_id"}}),s("span",{staticClass:"inputtip"})],1):e._e(),"parent"==e.user.role?s("el-form-item",{staticStyle:{width:"150px"},attrs:{label:"关系："}},[s("el-select",{staticClass:"el-select1",attrs:{placeholder:"请选择与学生关系"},model:{value:e.user.relationship,callback:function(t){e.$set(e.user,"relationship",t)},expression:"user.relationship"}},e._l(e.optionsRelationship,(function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),"student"==e.user.role?s("el-form-item",{staticStyle:{width:"150px"},attrs:{label:"选择班级："}},[s("el-select",{staticClass:"el-select1",attrs:{placeholder:"请选择班级"},model:{value:e.form.class_id,callback:function(t){e.$set(e.form,"class_id",t)},expression:"form.class_id"}},e._l(e.optionsClass,(function(e){return s("el-option",{key:e.class_id,attrs:{label:e.name,value:e.class_id}})})),1)],1):e._e(),"student"==e.user.role?s("div",[s("span",{staticStyle:{position:"relative",top:"-30px",left:"0px"}},[e._v("采样照片 ：")]),s("a",{staticClass:"a-upload1",attrs:{href:"javascript:;"}},[s("input",{attrs:{type:"file",accept:"image/*",name:"",id:"file1"}})]),s("a",{staticClass:"a-upload2",attrs:{href:"javascript:;"}},[s("input",{attrs:{type:"file",accept:"image/*",name:"",id:"file2"}})]),s("a",{staticClass:"a-upload3",attrs:{href:"javascript:;"}},[s("input",{attrs:{type:"file",accept:"image/*",name:"",id:"file3"}})])]):e._e(),s("br"),s("br")],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitSign1()}}},[e._v("确 定")])],1)],1)},l=[],i=(s("b0c0"),{data:function(){return{optionsClass:[],user:JSON.parse(localStorage.getItem("userinfo")),student:JSON.parse(localStorage.getItem("userinfo")),dialogFormVisible:!1,form:{class_id:"",name:""},optionsRelationship:[{value:"父亲",label:"父亲"},{value:"母亲",label:"母亲"},{value:"兄弟姐妹",label:"兄弟姐妹"},{value:"朋友",label:"朋友"},{value:"其他",label:"其他"}]}},created:function(){var e=this;this.student.class_id&&this.request.get("/classes?class_id="+this.student.class_id).then((function(t){t.data&&(e.form.name=t.data.name,e.form.class_id=t.data.class_id)})),this.request.get("/classes").then((function(t){t.data&&(e.optionsClass=t.data)}))},methods:{submitSign1:function(){var e=this;this.request.post("/updateInfo",this.user).then((function(t){t.success?(localStorage.setItem("userinfo",JSON.stringify(e.user)),e.$message.warning("信息更新成功")):e.$message.error("信息更新失败")})).catch((function(t){e.$message.error("信息更新失败")}))},jl1:function(){}}}),r=i,n=(s("972a"),s("2877")),o=Object(n["a"])(r,a,l,!1,null,"dda2e7ce",null);t["default"]=o.exports},"972a":function(e,t,s){"use strict";s("c847")},c847:function(e,t,s){}}]);
//# sourceMappingURL=chunk-2300bdc4.2d06e787.js.map